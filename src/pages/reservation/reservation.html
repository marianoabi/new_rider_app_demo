<!--
  Generated template for the ReservationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title class='configureNavBar'>Reservation</ion-title>
  </ion-navbar>

</ion-header>

<ion-content class='container' margin-top>
  <ion-item>
    <img class='custom-icon' item-start src="../../assets/svg/orderform_calendar.svg" alt="">

    <ion-label>Date</ion-label>
    <ion-datetime (ionChange)='onDateChange(Booking.date)' displayFormat="MMM DD YYYY" [(ngModel)]="Booking.date" min={{minDate}}
      max={{maxDate}}></ion-datetime>
  </ion-item>

  <ion-item>
    <img class='custom-icon' item-start src="../../assets/svg/orderform_route.svg" alt="">
    <ion-label>Route</ion-label>
    <ion-select interface="action-sheet" (ionChange)="onRouteChange(Booking.routeName)" [(ngModel)]="Booking.routeName">
      <ion-option *ngFor='let route of Routes; let i = index' [value]="route.name">{{i+1}} {{route.name}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <img class='custom-icon' item-start src="../../assets/svg/orderform_pickup.svg" alt="">
    <ion-label>Pickup Stop</ion-label>
    <!-- <ion-select *ngFor = 'let route of Routes' interface="action-sheet"> -->
    <ion-select disabled={{!Booking.routeName}} interface="action-sheet" (ionChange)="onPickupChange(Booking.pickup)"
      [(ngModel)]="Booking.pickup">
      <ion-option *ngFor='let station of selectedRoutePickupStations'>{{ station.name }}</ion-option>
    </ion-select>
    <!-- <ion-select interface="action-sheet">
      <ion-option *ngFor = 'let route of Routes'>{{ route.stations.station }}</ion-option>
    </ion-select> -->
  </ion-item>

  <ion-item>
    <img class='custom-icon' item-start src="../../assets/svg/orderform_destination.svg" alt="">
    <ion-label>Dropoff Stop</ion-label>
    <ion-select disabled={{!Booking.routeName}} interface="action-sheet" [(ngModel)]="Booking.dropoff">
      <ion-option *ngFor='let station of selectedRouteDropoffStations'>{{ station.name }}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item class="no-border-bottom" margin-bottom>
    <img class='custom-icon' item-start src="../../assets/svg/orderform_shuttletime.svg" alt="">
    <ion-label>Shuttle Time</ion-label>
    <ion-datetime disabled={{disableShutterTime()}} displayFormat="HH:mm" hourValues={{hourArray}} minuteValues={{minute}}
      min={{minTime}} [(ngModel)]="Booking.alertTime" (ionChange)='onChangeShuttleTime()'></ion-datetime>
  </ion-item>

  <ion-item class="no-border-bottom" margin-bottom>
    <img class='custom-icon' item-start src="../../assets/svg/orderform_wheelchair_seat.svg" alt="">
    <ion-label>Wheelchair Seats</ion-label>
    <ion-checkbox item-end color="default" checked="false" [(ngModel)]="Booking.wheelchairBool"></ion-checkbox>
  </ion-item>

  <ion-item class="no-border-bottom">
    <img class='custom-icon' item-start src="../../assets/svg/orderform_carer.svg" alt="">
    <ion-label>Carer</ion-label>
    <ion-checkbox item-end color="default" checked="false" [(ngModel)]="Booking.carerBool"></ion-checkbox>
  </ion-item>

  <ion-label class='custom-label'>Remaining Seat Capacity:</ion-label>

  <ion-grid class="seat-type-table">
    <ion-row class="table-icons">
      <ion-col col-6 item-start class="border-right custom-col">
        <img class="wc-icon" src="../../assets/svg/orderform_remaining_wheelchair.svg" alt="">
        <span id="wc-seat-count" class="av-count">{{wheelchairRandNum}}</span>
        <span class="seat-label">slots</span>
      </ion-col>
      <ion-col col-6 item-start class='custom-col'>
        <img class="wc-icon" src="../../assets/svg/orderform_remaining_nonwheelchair.svg" alt="">
        <span id="nwc-seat-count" class="av-count">{{nonWheelchairRandNum}}</span>
        <span class="seat-label">slots</span>
      </ion-col>
    </ion-row>
  </ion-grid>

  <button id='btnBookNow' ion-button block (click)='goToConfirmPage(Booking)'>Book Now</button>

</ion-content>